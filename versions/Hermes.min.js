(function(g,w,s,i){if(s===i){s=g}var f=null,a=null,p=null,e=null,o=null,d=null,v=null,l=null,r=null,q=null,j=null,c=null,k=null,u=5000,n="DISRUPTOR_ERROR";function b(y,x){return y&&y[x]}function m(y){var x=y.indexOf(":");return y.substr(0,x)}function h(x){var y=m(x);return x.replace(y+":","")}v=function(x){this.sName="[object Appender]";this.oLayout=x||null};v.prototype.setName=function(x){this.sName=x;return this};v.prototype.setLayout=function(x){this.oLayout=x;return this};v.prototype.toString=function(){return this.sName};v.prototype.log=function(x){throw new Error("This method must be overwritten!")};v.prototype.clear=function(){throw new Error("This method must be overwritten!")};r=function(){};r.prototype.formatError=function(x){throw new Error("This method must be overwritten!")};q=function(){r.apply(this)};q.prototype=new r();q.prototype.formatError=function(y){var x="";if(y instanceof d){x="Error level: "+y.oLevel.toString()+", Time: "+y.getFormattedDate();if(y.sCategory!==null){x+=", Category: "+y.sCategory}if(y.sMessage!==null){x+=", Message: "+y.sMessage}if(y.sFilenameUrl!==null){x+=", FilenameUrl: "+y.sFilenameUrl}if(y.nLineNumber!==null){x+=", LineNumber: "+y.nLineNumber}x+="."}return x};l=function(x){v.apply(this,arguments);this.sName="[object ConsoleAppender]";this.oLayout=new q()};l.prototype=new v();l.prototype.log=function(x){if(b(g.console,"log")){g.console.log(this.oLayout.formatError(x))}};l.prototype.clear=function(){if(b(g.console,"clear")){g.console.clear()}};f=function(y,x,z){this.oAppender={};this.aErrors=[];this.oLevel=y||j.ALL;this.nTimeLastSent=this.now();this.nImmediate=x||f.DEFERRED;this.nTimeout=z||u};f.DEFERRED=0;f.IMMEDIATE=1;f.prototype.deferLog=function(){this.nImmediate=f.DEFERRED;return this};f.prototype.immediateLog=function(){this.nImmediate=f.IMMEDIATE;return this};f.prototype.now=function(){return +new Date()};f.prototype.setLevel=function(x){if(x instanceof j){this.oLevel=x}return this};f.prototype.addAppender=function(x){if(x instanceof v){this.oAppender[x.toString()]=x}return this};f.prototype.removeAppender=function(x){delete this.oAppender[x.toString()];return this};f.prototype.setAppender=function(y){var z=0,x=y.length,A=null;for(z=0;z<x;z=z+1){A=y[z];this.addAppender(A)}try{return this}finally{z=x=A=null}};f.prototype.isSameLevel=function(x){if(this.oLevel.valueOf()===j.ALL.valueOf()){return true}else{if(this.oLevel.valueOf()===j.OFF.valueOf()){return false}else{return this.oLevel.valueOf()===x.oLevel.valueOf()}}};f.prototype.sendMessage=function(z,y){var x=0,A=this.aErrors.length,B=null;if(z[y]===i){return}for(;x<A;x=x+1){B=this.aErrors[x];if(this.isSameLevel(B)){z[y](B)}}this.nTimeLastSent=this.now()};f.prototype.isImmediate=function(x){return this.nImmediate===f.IMMEDIATE||(x!==i&&x instanceof k)};f.prototype.isTimeToSend=function(){return this.now()>=this.nextTimeToSend()};f.prototype.notifyAppender=function(x,A){var z="",y=null;x=x.toLowerCase();if(this.isImmediate(A)||this.isTimeToSend()){for(z in this.oAppender){if(this.oAppender.hasOwnProperty(z)){y=this.oAppender[z];this.sendMessage(y,x)}}this.resetErrors()}if(A!==i&&A instanceof k){throw new Error(n)}return this};f.prototype.addError=function(x){if(x instanceof d){this.aErrors.push(x);this.log(x)}return this};f.prototype.resetErrors=function(){this.aErrors=[]};f.prototype.nextTimeToSend=function(){return this.nTimeLastSent+this.nTimeout};f.prototype.forceLog=function(){this.immediateLog();this.log();this.deferLog();return this};f.prototype.log=function(x){this.notifyAppender("log",x)};f.prototype.clear=function(){this.notifyAppender("clear")};c=function(x){this.sFormat=x||c.DEFAULT};c.DEFAULT="yyyy-MM-dd  hh:mm:ss TZ";c.prototype.setDefaultFormat=function(x){this.sFormat=x||c.DEFAULT;return this};c.prototype.formatDate=function(H){var x=this.addZero(H.getDate()),z=this.addZero(H.getMonth()+1),G=H.getFullYear(),C=String(G).substring(3,4),D=this.sFormat.indexOf("yyyy")>-1?G:C,B=this.addZero(H.getHours()),A=this.addZero(H.getMinutes()),F=this.addZero(H.getSeconds()),y=this.getTimeZoneOffset(H),E=this.sFormat.replace(/dd/g,x).replace(/MM/g,z).replace(/y{1,4}/g,D);E=E.replace(/hh/g,B).replace(/mm/g,A).replace(/ss/g,F);E=E.replace(/TZ/g,y);try{return E}finally{x=z=G=D=B=A=F=y=E=null;C=null}};c.prototype.addZero=function(x){return((x<10)?"0":"")+x};c.prototype.getTimeZoneOffset=function(y){var A=Math.abs(y.getTimezoneOffset()),z=this.addZero(Math.floor(A/60)),x=this.addZero((A%60));try{return y.getTimezoneOffset()<0?"+"+z+":"+x:"-"+z+":"+x}finally{A=z=x=null}};d=function(B,A,z,y,C,x){this.oLevel=B||j.ALL;this.sCategory=A||"GENERAL";this.sMessage=z||"Error Undefined";this.dInitialize=new Date();this.oDateFormatter=new c().setDefaultFormat(x);this.sFilenameUrl=y||null;this.nLineNumber=C||null};d.prototype.setFilenameUrl=function(x){this.sFilenameUrl=x;return this};d.prototype.setLineNumber=function(x){this.nLineNumber=x;return this};d.prototype.setCategory=function(x){this.sCategory=x;return this};d.prototype.setLevel=function(x){if(x instanceof j){this.oLevel=x}return this};d.prototype.setMessage=function(x){this.sMessage=x;return this};d.prototype.setDateFormat=function(x){this.sDateFormat=x;return this};d.prototype.getFormattedDate=function(){return this.oDateFormatter.formatDate(this.dInitialize)};j=function(y,x){this.nLevel=y;this.sLevel=x};j.prototype.getLevel=function(x){var y=j[x];if(y!==i){return y}y=null;return null};j.prototype.toString=function(){return this.sLevel};j.prototype.valueOf=function(){return this.nLevel};j.nOFF=Number.MAX_VALUE;j.nDISRUPTOR=60000;j.nFATAL=50000;j.nERROR=40000;j.nWARNING=30000;j.nINFO=20000;j.nDEBUG=10000;j.nTRACE=5000;j.nALL=Number.MIN_VALUE;j.OFF=new j(j.nOFF,"OFF");j.DISRUPTOR=new j(j.nDISRUPTOR,"DISRUPTOR");j.FATAL=new j(j.nFATAL,"FATAL");j.ERROR=new j(j.nERROR,"ERROR");j.WARNING=new j(j.nWARNING,"WARN");j.INFO=new j(j.nINFO,"INFO");j.DEBUG=new j(j.nDEBUG,"DEBUG");j.TRACE=new j(j.nTRACE,"TRACE");j.ALL=new j(j.nALL,"ALL");e=function(x){d.apply(this,[j.TRACE,"Trace Message",x])};e.prototype=new d();a=function(x,y,z){this.sIndentString="";this.oConstructor=x;this.sMethodName=y;this.oTracer=z};a.prototype.formatArguments=function(x){return"("+x.join(", ")+")"};a.prototype.getIndentation=function(){return this.sIndentString};a.prototype.getMethodNameIndentedAndParams=function(x){return(this.getIndentation()+this.sMethodName+this.formatArguments(x))};a.prototype.getProfile=function(y,x){return this.getIndentation(true)+this.sMethodName+" -> result: "+x+". ("+(+new Date()-y)+"ms)"};a.prototype.wrap=function(){var x="";for(x in this.oConstructor){this[x]=this.oConstructor[x]}};p=function(){this.rNativeCode=/\[native code\]/;this.nIndentCount=-4;this.aTracing=[]};p.prototype.trace=function(y,z){var x=new a(y,z,this);x.wrap();o.addError(new e("Tracing: "+z));return function(){var A=null,B=+new Date(),C=Array.prototype.slice.call(arguments);o.addError(new e(x.getMethodNameIndentedAndParams(C)));A=y.apply(x,arguments);o.addError(new e(x.getProfile(B,A)));return A}};p.prototype.addTracing=function(x){this.aTracing.push(x)};p.prototype.traceAll=function(x,y){var z="";var A=null;if((x===g)||!((typeof x==="object"))||(typeof x==="function")){return}for(z in x){if(x[z]!==x){A=x[z];if(typeof A==="function"){if((this!==x)&&!A.oConstructor&&!this.rNativeCode.test(A)){x[z]=this.trace(x[z],z);this.addTracing({oObj:x,sMethodName:z})}}y&&this.traceAll(A,true)}}};p.prototype.resetTracing=function(){this.aTracking=[]};p.prototype.untraceAll=function(){var z=0;var y=this.aTracing;var A=y.length;var x=null;for(;z<A;z++){x=y[z];x.oObj[x.sMethodName]=x.oObj[x.sMethodName].oConstructor}o.addError(new e("Tracing disabled"));this.resetTracing()};k=function(y,x){d.call(this,j.DISRUPTOR,"Error that disrupt execution",y,x)};k.prototype=new d();o=new f(j.ALL,f.IMMEDIATE).addAppender(new l());g.onerror=function t(y,x,z){if(y.replace("Uncaught Error: ","")!==n){o.addError(new d(o.oLevel,m(y),h(y),x,z))}return false};s.Hermes={logger:o,appender:v,level:j,error:d,disruptorError:k,layout:r,tracer:new p()}}(window,document));