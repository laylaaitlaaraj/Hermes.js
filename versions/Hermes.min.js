(function(e,j,h,k){var c,b,d,m,g,f,i;if(h===k){h=e}function n(o){return o.substr(0,o.indexOf(":"))}function l(o){return o.replace(n(o)+":","")}var a;g=function(r,q,p,o,s){this.oLevel=r||m.ALL;this.sCategory=q||"GENERAL";this.sMessage=p||"Message Undefined";this.dInitialize=new Date();this.oDateFormatter=a||null;this.sFilenameUrl=o||null;this.nLineNumber=s||null};g.setDateFormatter=function(o){a=o;return this};g.prototype.setFilenameUrl=function(o){this.sFilenameUrl=o;return this};g.prototype.setLineNumber=function(o){this.nLineNumber=o;return this};g.prototype.setCategory=function(o){this.sCategory=o;return this};g.prototype.setLevel=function(o){if(o instanceof m){this.oLevel=o}return this};g.prototype.setMessage=function(o){this.sMessage=o;return this};g.prototype.setDateFormat=function(o){this.sDateFormat=o;return this};g.prototype.getFormattedDate=function(){var o="";if(this.oDateFormatter!==null){o=this.oDateFormatter.formatDate(this.dInitialize)}return o};g.utils={getTypeFromMessage:n,removeTypeFromMessage:l};m=function(p,o){this.nLevel=p;this.sLevel=o};m.nOFF=Number.MAX_VALUE;m.nDISRUPTOR=60000;m.nFATAL=50000;m.nERROR=40000;m.nWARNING=30000;m.nINFO=20000;m.nDEBUG=10000;m.nTRACE=5000;m.nALL=Number.MIN_VALUE;m.OFF=new m(m.nOFF,"OFF");m.DISRUPTOR=new m(m.nDISRUPTOR,"DISRUPTOR");m.FATAL=new m(m.nFATAL,"FATAL");m.ERROR=new m(m.nERROR,"ERROR");m.WARNING=new m(m.nWARNING,"WARN");m.INFO=new m(m.nINFO,"INFO");m.DEBUG=new m(m.nDEBUG,"DEBUG");m.TRACE=new m(m.nTRACE,"TRACE");m.ALL=new m(m.nALL,"ALL");m.prototype.getLevel=function(o){var p=m[o];if(p!==undefined){return p}p=null;return null};m.prototype.toString=function(){return this.sLevel};m.prototype.valueOf=function(){return this.nLevel};m.compare=function(r,q){var p=r.valueOf(),o=p===q.valueOf();if(p===m.ALL.valueOf()){o=true}else{if(p===m.OFF.valueOf()){o=false}}return o};f=function(o){this.sName="[object Appender]";this.oLayout=o||null};f.prototype.setName=function(o){this.sName=o;return this};f.prototype.setLayout=function(o){this.oLayout=o;return this};f.prototype.toString=function(){return this.sName};f.prototype.log=function(o){throw new Error("This method must be overwritten!")};f.prototype.clear=function(){throw new Error("This method must be overwritten!")};i=function(){};i.prototype.format=function(o){throw new Error("This method must be overwritten!")};c=function(p,o,q){this.oAppenders={};this.aMessages=[];this.oLevel=p||null;this.nTimeLastSent=this.now();this.nImmediate=o||c.DEFERRED;this.nTimeout=q||0};c.DEFERRED=0;c.IMMEDIATE=1;c.prototype.setTimeToLog=function(o){this.nTimeout=o;return this};c.prototype.deferLog=function(){this.nImmediate=c.DEFERRED;return this};c.prototype.immediateLog=function(){this.nImmediate=c.IMMEDIATE;return this};c.prototype.now=function(){return +new Date()};c.prototype.setLevel=function(o){if(o instanceof m){this.oLevel=o}return this};c.prototype.addAppender=function(o){if(o instanceof f){this.oAppenders[o.toString()]=o}return this};c.prototype.removeAppender=function(o){delete this.oAppenders[o.toString()];return this};c.prototype.setAppenders=function(p){var q=0,o=p.length,r=null;for(q=0;q<o;q=q+1){r=p[q];this.addAppender(r)}return this};c.prototype.isSameLevel=function(o){return m.compare(this.oLevel,o.oLevel)};c.prototype.sendMessage=function(q,o){var s=0,p=this.aMessages.length,r=null;if(q[o]===k){return}for(;s<p;s=s+1){r=this.aMessages[s];if(this.isSameLevel(r)){q[o](r)}}this.nTimeLastSent=this.now()};c.prototype.isImmediate=function(o){return this.nImmediate===c.IMMEDIATE};c.prototype.isTimeToSend=function(){return this.now()>=this.nextTimeToSend()};c.prototype.notifyAppender=function(o,q){var r="",p=null;o=o.toLowerCase();if(this.isImmediate(q)||this.isTimeToSend()){for(r in this.oAppenders){if(this.oAppenders.hasOwnProperty(r)){p=this.oAppenders[r];this.sendMessage(p,o)}}this.resetMessages()}return this};c.prototype.addMessage=function(o){if(o instanceof g){this.aMessages.push(o);this.log(o)}return this};c.prototype.resetMessages=function(){this.aMessages=[]};c.prototype.nextTimeToSend=function(){return this.nTimeLastSent+this.nTimeout};c.prototype.forceLog=function(){this.immediateLog();this.log();this.deferLog();return this};c.prototype.log=function(o){this.notifyAppender("log",o)};c.prototype.clear=function(){this.notifyAppender("clear")};b=new c();d={basic:c,logger:b,level:m,layout:i,appender:f,message:g,extend:function(p,o){this[p]=o}};h.Hermes=d}(window,document));